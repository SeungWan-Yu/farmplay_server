<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="webTourMapper">

<sql id="selectBoardColumn">
    SELECT 
          foodCode
        , foodTypeId
        , foodAddr1
        , foodAreacode
        , foodSigunguCode
        , foodFirstimage
        , foodFirstimage2
        , foodMapx
        , foodMapy
        , foodTitle
        , foodReadCount
        , foodRegDate
</sql>    

<!-- 푸드코드 가져오기 -->
<select id="getFoodCodeList">
    SELECT 
        foodCode
	FROM
        tour_food
</select>

<!-- 푸드코드 가져오기 -->
<select id="getFoodCodeDbList">
    SELECT 
        foodCode
	FROM
        tour_food
    WHERE
        foodDbComplete = 'N';
</select>

<!-- 푸드코드 업데이트 -->
<update id="updateFoodList">
    <foreach collection="itemFoodUpdateList" item="itemFood"  separator=";">
    UPDATE tour_food
	SET
		foodFirstMenu   =   #{itemFood.firstmenu},
		foodTreatMenu   =   #{itemFood.treatmenu},
		foodTel         =   #{itemFood.infocenterfood},
		foodOpenTime    =   #{itemFood.opentimefood},
		foodParking     =   #{itemFood.parkingfood},
		foodReservation =   #{itemFood.reservationfood},
		foodRestDate    =   #{itemFood.restdatefood},
		foodPacking     =   #{itemFood.packing},
		foodHomepage    =   #{itemFood.homepage},
		foodOverView    =   #{itemFood.overview},
		foodDbComplete  =   #{itemFood.dbComplete}
	WHERE
        foodCode        =   #{itemFood.foodCode} 
    </foreach>
</update>


<!-- 푸드삭제 -->
<delete id="removeFoodAll">
    DELETE FROM tour_food 
    WHERE foodCode IN (
        <foreach collection="r1" item="r"  separator=",">
            #{r.foodCode}
         </foreach>
    )
</delete>

<!-- 음식 등록 -->
<insert id="addTourFoodFor">
    INSERT INTO tour_food
        ( foodCode
         ,foodTypeId
         ,foodAddr1
         ,foodAreacode
         ,foodSigunguCode
         ,foodFirstimage
         ,foodFirstimage2
         ,foodMapx
         ,foodMapy
         ,foodTitle
         ,foodReadCount
         ,foodRegDate )
	VALUES 
        ( #{contentid}
         ,#{contenttypeid}
         ,#{addr1}
         ,#{areacode}
         ,#{sigungucode}
         ,#{firstimage}
         ,#{firstimage2}
         ,#{mapx}
         ,#{mapy}
         ,#{title}
         ,#{readcount}
         ,NOW() )  
    
</insert>


 <!-- 음식 등록 -->
<insert id="addTourFood">
    INSERT INTO tour_food
      	( foodCode
	     ,foodTypeId
         ,foodAddr1
         ,foodAreacode
         ,foodSigunguCode
         ,foodFirstimage
         ,foodFirstimage2
         ,foodMapx
         ,foodMapy
         ,foodTitle
         ,foodReadCount
         ,foodDbComplete
         ,foodRegDate)
	VALUES 
    <foreach collection="itemFoodList" item="itemFood"  separator=",">
        ( #{itemFood.contentid}
         ,#{itemFood.contenttypeid}
         ,#{itemFood.addr1}
         ,#{itemFood.areacode}
         ,#{itemFood.sigungucode}
         ,#{itemFood.firstimage}
         ,#{itemFood.firstimage2}
         ,#{itemFood.mapx}
         ,#{itemFood.mapy}
         ,#{itemFood.title}
         ,#{itemFood.readcount}
         ,#{itemFood.dbComplete}
         ,NOW() )
    </foreach>
   

</insert>


<!-- 음식 등록
<insert id="addTourFood">
    INSERT INTO tour_food
      	( foodCode
	     ,foodTypeId
         ,foodAddr1
         ,foodAreacode
         ,foodSigunguCode
         ,foodFirstimage
         ,foodFirstimage2
         ,foodMapx
         ,foodMapy
         ,foodTitle
         ,foodReadCount
         ,foodDbComplete
         ,foodFirstMenu
         ,foodTreatMenu
         ,foodTel
         ,foodOpenTime
         ,foodParking
         ,foodReservation
         ,foodRestDate
         ,foodPacking
         ,foodHomepage
         ,foodOverView
         ,foodRegDate)
	VALUES 
    <foreach collection="itemFoodList" item="itemFood"  separator=",">
        ( #{itemFood.contentid}
         ,#{itemFood.contenttypeid}
         ,#{itemFood.addr1}
         ,#{itemFood.areacode}
         ,#{itemFood.sigungucode}
         ,#{itemFood.firstimage}
         ,#{itemFood.firstimage2}
         ,#{itemFood.mapx}
         ,#{itemFood.mapy}
         ,#{itemFood.title}
         ,#{itemFood.readcount}
         ,#{itemFood.dbComplete}
         ,#{itemFood.firstmenu}
         ,#{itemFood.treatmenu}
         ,#{itemFood.infocenterfood}
         ,#{itemFood.opentimefood}
         ,#{itemFood.parkingfood}
         ,#{itemFood.reservationfood}
         ,#{itemFood.restdatefood}
         ,#{itemFood.packing}
         ,#{itemFood.homepage}
         ,#{itemFood.overview}
         ,NOW() )
    </foreach>
   

</insert> -->





</mapper>